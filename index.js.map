{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/helpers.js","../src/js/storage.js","../src/js/modal.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const BASE_URL = 'https://dummyjson.com';\n\nexport const ENDPOINTS = {\n  CATEGORIES: '/products/category-list',\n  ALL_PRODUCTS: '/products?limit=12&skip=',\n  CATEGORY_PRODUCTS: '/products/category/',\n  ONE_PRODUCT: '/products/',\n  QUERY_PRODUCT: '/products/search?q=',\n  PER_PAGE: 'limit=12&skip=',\n};\n\nexport const KEY = {\n  WISH_KEY: 'wishlist',\n  CART_KEY: 'cart',\n\n  // USER_VALUE_SESSION_STORAGE_KEY: 'user-value-key',\n};\n\nexport const PAGE_SIZE = 12;\n","// API ендпоінти:\n// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nimport axios from 'axios';\nimport { BASE_URL, ENDPOINTS, PAGE_SIZE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function fetchCategories() {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n}\n\nexport async function fetchProducts(page) {\n  const { data } = await axios(\n    `${ENDPOINTS.ALL_PRODUCTS}${(page - 1) * PAGE_SIZE}`\n  );\n  return data;\n}\nexport async function fetchCategoryProducts(categoryName, page) {\n  const { data } = await axios(\n    `${ENDPOINTS.CATEGORY_PRODUCTS}${categoryName}?${ENDPOINTS.PER_PAGE}${\n      (page - 1) * PAGE_SIZE\n    }`\n  );\n\n  console.log(\n    `${ENDPOINTS.CATEGORY_PRODUCTS}${categoryName}?${ENDPOINTS.PER_PAGE}${\n      (page - 1) * PAGE_SIZE\n    }`\n  );\n  return data;\n}\n\nexport async function fetchOneProduct(id) {\n  const { data } = await axios(`${ENDPOINTS.ONE_PRODUCT}${id}`);\n  return data;\n}\n\nexport async function fetchQueryProduct(query, page) {\n  const { data } = await axios(\n    `${ENDPOINTS.QUERY_PRODUCT}${query}&${ENDPOINTS.PER_PAGE}${\n      (page - 1) * PAGE_SIZE\n    }`\n  );\n  return data;\n}\n","export const refs = {\n  categoriesList: document.querySelector('ul.categories'),\n  productList: document.querySelector('ul.products'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  modal: document.querySelector('.modal'),\n  modalBackdrop: document.querySelector('.js-modal-backdrop'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalClose: document.querySelector('.modal__close-btn'),\n  formSearch: document.querySelector('.search-form'),\n  notFoundDiv: document.querySelector('.not-found'),\n  clearBtn: document.querySelector('.search-form__btn-clear'),\n  cartBtn: document.querySelector('.modal-product__btn--cart'),\n  wishBtn: document.querySelector('.modal-product__btn--wishlist'),\n  cartCount: document.querySelector('[data-cart-count]'),\n  wishCount: document.querySelector('[data-wishlist-count]'),\n};\n","// функції для відображення елементів інтерфейсу\n\nimport { refs } from './refs';\n\nexport function renderCategories(data) {\n  const markup = data\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>\n`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markup;\n}\n\nexport function renderProducts(products) {\n  const markup = products\n    .map(\n      ({\n        id,\n        thumbnail,\n        title,\n        brand,\n        category,\n        price,\n        description,\n      }) => `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`\n    )\n    .join('');\n  refs.productList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderCartProduct({\n  id,\n  thumbnail,\n  title,\n  shippingInformation,\n  price,\n  description,\n  tags,\n  returnPolicy,\n}) {\n  const markup = `<img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\" data-id=\"${id}\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags\n          .map(tag => `<li>${tag}</li>`)\n          .join('')}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>`;\n\n  refs.modalProduct.innerHTML = markup;\n}\n","// допоміжні функції, які знадобляться для реалізації завдання\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { refs } from './refs';\nimport { loadMoreProducts } from './handlers';\n\nexport const iziToastOption = {\n  timeout: 5000,\n  theme: 'dark',\n  messageColor: 'white',\n  iconColor: '#FFFFFF',\n  closeOnClick: true,\n  backgroundColor: '#ef4040',\n  position: 'topCenter',\n};\n\nexport function activeFirstBtn() {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n}\n\nexport function changeActiveButton(event) {\n  //   [...event.currentTarget.children].forEach(element => {\n  //     [...element.children].forEach(element => {\n  //       if (element.classList.contains(className)) {\n  //         element.classList.remove(className);\n  //       }\n  //       event.target.classList.add(className);\n  //     });\n  //   });\n\n  const onClickButton = document.querySelectorAll('.categories__btn');\n  onClickButton.forEach(element => {\n    if (element.classList.contains('categories__btn--active')) {\n      element.classList.remove('categories__btn--active');\n    }\n    event.target.classList.add('categories__btn--active');\n  });\n}\n\nexport function iziToastErrorMessage(error) {\n  console.log(error);\n  iziToastOption.message = error.message;\n  iziToast.show(iziToastOption);\n}\n\nexport function clearGallery() {\n  refs.productList.innerHTML = '';\n}\n\nexport function loadMoreVisibleStatus(current, total) {\n  if (current < total) {\n    showLoadMore();\n\n    // Удаление обработчика перед повторным добавлением (защита от возможного дублирования)\n    refs.loadMoreBtn.removeEventListener('click', loadMoreProducts);\n    refs.loadMoreBtn.addEventListener('click', loadMoreProducts);\n  } else {\n    refs.loadMoreBtn.removeEventListener('click', loadMoreProducts);\n\n    hideLoadMore();\n    hideNotFoundProducts();\n    throw new Error('No more products to load');\n  }\n}\n\nexport function showLoadMore() {\n  refs.loadMoreBtn.classList.remove('is-hidden');\n  hideNotFoundProducts();\n}\n\nexport function hideLoadMore() {\n  refs.loadMoreBtn.classList.add('is-hidden');\n}\n\nexport function showNotFoundProducts() {\n  refs.notFoundDiv.classList.add('not-found--visible');\n  hideLoadMore();\n}\n\nexport function hideNotFoundProducts() {\n  refs.notFoundDiv.classList.remove('not-found--visible');\n}\n","// функції для роботи з localStorage.\n\nexport function setLocalStorage(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nexport function getLocalStorage(key) {\n  const data = localStorage.getItem(key);\n  //   if (data) {\n  return data ? JSON.parse(data) : [];\n  //   }\n}\nexport function setSessionStorage(key, data) {\n  sessionStorage.setItem(key, JSON.stringify(data));\n}\n\nexport function getSessionStorage(key) {\n  const data = sessionStorage.getItem(key);\n  if (data) {\n    return data ? JSON.parse(data) : null;\n  }\n}\n","// функції модального вікна (відкриття, закриття і так далі).\n\n// зберігай функції модального вікна (відкриття, закриття і так далі).\n// Додавання товарів у кошик.\n// Додавання товарів у Wishlist.\nimport iziToast from 'izitoast';\nimport { refs } from './refs';\nimport { getLocalStorage, setLocalStorage } from './storage';\nimport { KEY } from './constants';\n\nexport const product = {\n  id: null,\n  categoryName: '',\n  cartList: [],\n  wishList: [],\n\n  getId() {\n    const modalProductContent = document.querySelector(\n      '.modal-product__content'\n    );\n    if (!modalProductContent) return;\n    this.id = modalProductContent.dataset.id;\n  },\n\n  getCartList() {\n    this.cartList = getLocalStorage(KEY.CART_KEY);\n  },\n\n  getWishList() {\n    this.wishList = getLocalStorage(KEY.WISH_KEY);\n  },\n};\n\nexport function openModal() {\n  refs.modal.classList.add('modal--is-open');\n\n  refs.modalClose.addEventListener('click', closeModal);\n  refs.modalBackdrop.addEventListener('click', closeBackdrop);\n  document.addEventListener('keydown', closeEscape);\n\n  buyProduct();\n  updateCart();\n  updateWishList();\n\n  selectProduct();\n}\n\nfunction closeModal() {\n  refs.modal.classList.remove('modal--is-open');\n\n  refs.modalClose.removeEventListener('click', closeModal);\n  refs.modalBackdrop.removeEventListener('click', closeBackdrop);\n\n  document.removeEventListener('keydown', closeEscape);\n}\n\nexport function closeBackdrop(event) {\n  if (event.target === event.currentTarget) {\n    closeModal();\n  }\n}\n\nexport function closeEscape(event) {\n  if (event.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction buyProduct() {\n  const buyBtn = document.querySelector('.modal-product__buy-btn');\n\n  buyBtn.addEventListener('click', () => {\n    iziToast.success({ title: 'Success', message: 'Оформлення замовлення' });\n  });\n}\n\nfunction updateCart() {\n  product.getId();\n  product.getCartList();\n\n  const { cartList, id } = product;\n\n  if (!cartList.includes(id)) {\n    refs.cartBtn.textContent = 'Add to cart';\n  } else {\n    refs.cartBtn.textContent = 'Remove from cart';\n  }\n}\nfunction updateWishList() {\n  product.getId();\n  product.getWishList();\n\n  const { wishList, id } = product;\n\n  if (!wishList.includes(id)) {\n    refs.wishBtn.textContent = 'Add to Wishlist';\n  } else {\n    refs.wishBtn.textContent = 'Remove from Wishlist';\n  }\n}\n\nfunction selectProduct() {\n  product.getId();\n  product.getCartList();\n  product.getWishList();\n\n  const { id, cartList, wishList } = product;\n\n  const isWishlistPage = window.location.pathname.includes('/wishlist');\n  const isCartlistPage = window.location.pathname.includes('/cart');\n\n  refs.cartBtn.addEventListener('click', event => {\n    if (!cartList.includes(id)) {\n      cartList.push(id);\n      setLocalStorage(KEY.CART_KEY, cartList);\n      event.target.textContent = 'Remove from cart';\n    } else {\n      const productIndex = cartList.indexOf(id);\n      cartList.splice(productIndex, 1);\n      setLocalStorage(KEY.CART_KEY, cartList);\n      event.target.textContent = 'Add to cart';\n\n      if (isCartlistPage) {\n        const productCard = document.querySelector(\n          `.products__item[data-id=\"${id}\"]`\n        );\n        if (productCard) {\n          productCard.remove();\n        }\n      }\n    }\n    updateCartCount();\n  });\n\n  refs.wishBtn.addEventListener('click', event => {\n    if (!wishList.includes(id)) {\n      wishList.push(id);\n      setLocalStorage(KEY.WISH_KEY, wishList);\n      event.target.textContent = 'Remove from Wishlist';\n    } else {\n      const productIndex = cartList.indexOf(id);\n      wishList.splice(productIndex, 1);\n      setLocalStorage(KEY.WISH_KEY, wishList);\n      event.target.textContent = 'Add to Wishlist';\n\n      if (isWishlistPage) {\n        const productCard = document.querySelector(\n          `.products__item[data-id=\"${id}\"]`\n        );\n        if (productCard) {\n          productCard.remove();\n        }\n      }\n    }\n    updateWishCount();\n  });\n}\n\nexport function updateCartCount() {\n  product.getCartList();\n  refs.cartCount.textContent = product.cartList.length;\n}\n\nexport function updateWishCount() {\n  product.getWishList();\n  refs.wishCount.textContent = product.wishList.length;\n}\n","// Функції, які передаються колбеками в addEventListners\n\nimport {\n  fetchCategories,\n  fetchProducts,\n  fetchOneProduct,\n  fetchQueryProduct,\n  fetchCategoryProducts,\n} from './products-api';\n\nimport {\n  renderCategories,\n  renderProducts,\n  renderCartProduct,\n} from './render-function';\n\nimport {\n  activeFirstBtn,\n  iziToastErrorMessage,\n  loadMoreVisibleStatus,\n  clearGallery,\n  showNotFoundProducts,\n} from './helpers';\n\nimport { PAGE_SIZE } from './constants';\nimport { refs } from './refs';\nimport { openModal, product } from './modal';\n\nimport { setLocalStorage, getLocalStorage } from './storage';\n\nlet currentPage = 1;\nlet query;\nlet totalPages = 0;\nlet previousQuery;\nlet inputContext = refs.formSearch.querySelector('.search-form__input');\n\nexport async function getCategories() {\n  try {\n    const data = await fetchCategories();\n    renderCategories(['All', ...data]);\n    activeFirstBtn();\n  } catch (error) {\n    iziToastErrorMessage({ message: 'Try again later!' });\n  }\n}\n\nexport async function getAllProducts() {\n  try {\n    clearGallery();\n    const data = await fetchProducts(currentPage);\n    const { products } = data;\n    renderProducts(products);\n\n    refs.productList.addEventListener('click', event => {\n      // користувач клікнув міжкартками товару\n      if (event.target.nodeName === 'UL') {\n        return;\n      }\n      getOneProduct(event);\n    });\n\n    const totalProducts = data.total;\n    totalPages = Math.ceil(totalProducts / PAGE_SIZE);\n    loadMoreVisibleStatus(currentPage, totalPages);\n  } catch (error) {\n    iziToastErrorMessage(error);\n  }\n}\n\nexport async function loadMoreProducts() {\n  console.log(product.categoryName);\n  currentPage += 1;\n  let data;\n  try {\n    if (query) {\n      data = await fetchQueryProduct(query, currentPage);\n    }\n\n    if (product.categoryName === 'All' || product.categoryName === '') {\n      data = await fetchProducts(currentPage);\n    } else {\n      data = await fetchCategoryProducts(product.categoryName, currentPage);\n    }\n    console.log(data);\n\n    //\n\n    const { products } = data;\n    renderProducts(products);\n    const totalProducts = data.total;\n    totalPages = Math.ceil(totalProducts / PAGE_SIZE);\n    loadMoreVisibleStatus(currentPage, totalPages);\n  } catch (error) {\n    iziToastErrorMessage(error);\n  }\n}\n\nexport function getCategoryProducts() {\n  let data;\n\n  refs.categoriesList.addEventListener('click', async event => {\n    currentPage = 1;\n    if (event.target.nodeName !== 'BUTTON') {\n      return;\n    }\n\n    product.categoryName = event.target.textContent;\n\n    // getCategoryProducts(product.categoryName);\n    //   changeActiveButton(event);\n\n    console.log(product.categoryName);\n\n    try {\n      clearGallery();\n      if (product.categoryName === 'All' || product.categoryName === '') {\n        data = await fetchProducts(currentPage);\n      } else {\n        data = await fetchCategoryProducts(product.categoryName, currentPage);\n      }\n\n      console.log(data);\n      const { products } = data;\n      console.log(products);\n      console.log(currentPage);\n\n      if (Array.isArray(products) && products.length === 0) {\n        refs.notFoundDiv.classList.add('not-found--visible');\n      }\n      renderProducts(products);\n\n      refs.productList.addEventListener('click', event => {\n        // користувач клікнув міжкартками товару\n        if (event.target.nodeName === 'UL') {\n          return;\n        }\n        getOneProduct(event);\n      });\n\n      const totalCategoryProducts = data.total;\n      totalPages = Math.ceil(totalCategoryProducts / PAGE_SIZE);\n      loadMoreVisibleStatus(currentPage, totalPages);\n    } catch (error) {\n      iziToastErrorMessage(error);\n    }\n  });\n}\n\nexport async function getOneProduct(event) {\n  try {\n    if (!event.target.closest('.products__item')) {\n      return;\n    }\n    const productID = event.target.closest('.products__item').dataset.id;\n    const data = await fetchOneProduct(`${productID}`);\n\n    renderCartProduct(data);\n    openModal();\n  } catch (error) {\n    iziToastErrorMessage(error);\n  }\n}\n\nexport function getQueryProduct() {\n  refs.formSearch.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    // window.location.href = './index.html';\n    query = event.target.searchValue.value.trim();\n    try {\n      if (!query) {\n        refs.formSearch.reset();\n        throw new Error('Sorry, this name images is empty. Please try again!');\n      }\n\n      if (query !== previousQuery) {\n        currentPage = 1;\n        previousQuery = query;\n      }\n\n      clearGallery();\n      const data = await fetchQueryProduct(query, currentPage);\n      const totalProducts = data.total;\n      totalPages = Math.ceil(totalProducts / PAGE_SIZE);\n\n      if (totalProducts === 0) {\n        showNotFoundProducts();\n      } else {\n        renderProducts(data.products);\n        loadMoreVisibleStatus(currentPage, totalPages);\n      }\n    } catch (error) {\n      iziToastErrorMessage(error);\n    }\n  });\n}\n\nexport function onClearBtn() {\n  refs.clearBtn.addEventListener('click', event => {\n    event.preventDefault();\n    inputContext.value = '';\n    query = '';\n    getAllProducts();\n  });\n}\n\nexport async function selectedProducts(response) {\n  try {\n    const selectedProducts = await Promise.all(response);\n    console.log(selectedProducts);\n    renderProducts(selectedProducts);\n  } catch (error) {\n    iziToastErrorMessage(error);\n  }\n\n  refs.productList.addEventListener('click', event => {\n    // користувач клікнув міжкартками товару\n    if (event.target.nodeName === 'UL') {\n      return;\n    }\n    getOneProduct(event);\n  });\n}\n","//Логіка сторінки Home\n\nimport {\n  getCategories,\n  getAllProducts,\n  getQueryProduct,\n  onClearBtn,\n  getCategoryProducts,\n} from './js/handlers';\nimport { refs } from './js/refs';\n\nimport { updateCartCount, updateWishCount } from './js/modal';\n\n// const productID = getCartProduct();\ngetCategories();\ngetAllProducts();\ngetQueryProduct();\nonClearBtn();\nupdateCartCount();\nupdateWishCount();\ngetCategoryProducts();\n\n// refs.categoriesList.addEventListener('click', event => {\n//   const categoryName = event.target.textContent;\n//   //   console.log(categoryName);\n//   if (event.target.nodeName !== 'BUTTON') {\n//     return;\n//   }\n\n//   getCategoryProducts(categoryName);\n//   //   changeActiveButton(event);\n// });\n\nrefs.formSearch.reset();\n"],"names":["BASE_URL","ENDPOINTS","KEY","PAGE_SIZE","axios","fetchCategories","data","fetchProducts","page","fetchCategoryProducts","categoryName","fetchOneProduct","id","fetchQueryProduct","query","refs","renderCategories","markup","el","renderProducts","products","thumbnail","title","brand","category","price","description","renderCartProduct","shippingInformation","tags","returnPolicy","tag","iziToastOption","activeFirstBtn","firstBtn","iziToastErrorMessage","error","iziToast","clearGallery","loadMoreVisibleStatus","current","total","showLoadMore","loadMoreProducts","hideLoadMore","hideNotFoundProducts","showNotFoundProducts","setLocalStorage","key","getLocalStorage","product","modalProductContent","openModal","closeModal","closeBackdrop","closeEscape","buyProduct","updateCart","updateWishList","selectProduct","event","cartList","wishList","isWishlistPage","isCartlistPage","productIndex","productCard","updateCartCount","updateWishCount","currentPage","totalPages","previousQuery","inputContext","getCategories","getAllProducts","getOneProduct","totalProducts","getCategoryProducts","totalCategoryProducts","productID","getQueryProduct","onClearBtn"],"mappings":"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"}